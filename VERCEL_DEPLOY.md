# تعليمات النشر على Vercel

## الخطوات الأساسية

### 1. قبل النشر

**يجب حذف مجلد الإدارة (admin) تمامًا**

لحذف المجلد، يمكنك:
- الذهاب إلى GitHub واختيار مجلد `app/admin`
- حذف جميع الملفات والمجلدات بداخله
- ثم حذف المجلد نفسه

### 2. إعداد قاعدة البيانات في Supabase

1. قم بإنشاء مشروع جديد في [Supabase](https://app.supabase.io/)
2. بعد إنشاء المشروع، قم بإنشاء الجداول التالية:

#### جدول contact_messages:
```sql
create table public.contact_messages (
  id bigint generated by default as identity primary key,
  name text not null,
  email text not null,
  phone text,
  subject text,
  message text not null,
  created_at timestamp with time zone default now()
);

-- إضافة سياسة RLS للسماح بالإدخال العام
alter table public.contact_messages enable row level security;

create policy "Allow public inserts for contact_messages" 
  on public.contact_messages for insert 
  with check (true);
```

#### جدول early_access:
```sql
create table public.early_access (
  id bigint generated by default as identity primary key,
  email text not null unique,
  created_at timestamp with time zone default now()
);

-- إضافة سياسة RLS للسماح بالإدخال العام
alter table public.early_access enable row level security;

create policy "Allow public inserts for early_access" 
  on public.early_access for insert 
  with check (true);
```

3. استخرج بيانات الاتصال من Supabase:
   - `Project URL` - ستكون بشكل `https://something.supabase.co`
   - `Anon Key` - من قسم API في الإعدادات
   - `Service Role Key` (اختياري) - من نفس قسم API

### 3. النشر على Vercel

1. قم بالذهاب إلى [Vercel](https://vercel.com/) وتسجيل الدخول
2. اضغط على "New Project"
3. اختر مستودع GitHub الخاص بك "new-nuqta-saas"
4. في صفحة إعداد المشروع:
   - اختر Next.js كإطار العمل
   - في قسم "Environment Variables"، أضف:
     - `NEXT_PUBLIC_SUPABASE_URL`: URL المشروع من Supabase
     - `NEXT_PUBLIC_SUPABASE_ANON_KEY`: مفتاح Anon من Supabase
     - `NEXT_PUBLIC_SITE_URL`: عنوان موقعك (مثلاً https://nuqta.sa أو عنوان Vercel الذي سيتم إنشاؤه)
     - `SUPABASE_SERVICE_ROLE_KEY` (اختياري): مفتاح Service Role من Supabase
5. اضغط على "Deploy"

## استكشاف الأخطاء وإصلاحها

إذا واجهت أخطاء في النشر:

1. تأكد من إزالة مجلد `app/admin` بالكامل
2. تأكد من إضافة متغيرات البيئة الصحيحة في Vercel
3. راجع سجلات بناء Vercel لمعرفة أي أخطاء محددة

## بعد النشر

1. قم بفتح لوحة تحكم Supabase للتحقق من بيانات الاتصال ورسائل الوصول المبكر
2. يمكنك الوصول إلى البيانات من خلال قسم "Table Editor" في Supabase

## ملاحظات مهمة

- الموقع مبسط ويحتوي فقط على الصفحات الأساسية: الرئيسية، الخدمات، من نحن، اتصل بنا
- تمت إزالة الميزات المعقدة مثل تسجيل الدخول والمدونة ولوحة الإدارة
- البيانات المرسلة من نماذج الاتصال والوصول المبكر ستُحفظ مباشرة في Supabase
- لا توجد واجهة لمشاهدة البيانات المرسلة، يجب الدخول إلى Supabase مباشرةً